version: '2'
services:
  case_demo_db:
    # build:
    #   context: ./postgresql
    image: estebanf/case_demo_db
    ports:
      - "5432:5432"
    container_name: case_demo_db
  case_demo_server:
    # build:
    #   context: ./server
    image: estebanf/case_demo_server
    ports:
      - "8080:8080"
    extra_hosts:
      - "everteam.local:127.0.0.1"
    container_name: case_demo_server
    links:
      - case_demo_db
    depends_on:
      - case_demo_db
  case_demo_webapp:
    image: estebanf/case_demo_webapp
    ports:
      - "80:80"
    container_name: case_demo_webapp
    links:
      - case_demo_db
    depends_on:
      - case_demo_db
