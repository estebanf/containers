<?xml version='1.0' encoding='UTF-8'?>
<bpel:process xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable" xmlns:vprop="http://docs.oasis-open.org/wsbpel/2.0/varprop" xmlns:pnlk="http://docs.oasis-open.org/wsbpel/2.0/plnktype" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ode="http://www.apache.org/ode/type/extension" xmlns:SchedulingimplicitPartner="http://floridabluedemo.com/Processes/Scheduling/SchedulingimplicitPartner" xmlns:metrics="http://test.com/xvar/example" xmlns:select_providers="urn:intalio.com:connectors:database:floridabluedemo:select_providersservice" xmlns:provider="http://floridabluedemo.com/Processes/Scheduling/provider" xmlns:formless-ytivitca="http://www.intalio.com/formless/attachments" xmlns:diag="http://floridabluedemo.com/Processes/Scheduling" xmlns:this="http://floridabluedemo.com/Processes/Scheduling/Scheduling" xmlns:ns="urn:intalio.com:connectors:database:floridabluedemo:select_primaryservice" xmlns:attachments="http://www.intalio.com/gi/Forms/frmScheduling.gi/attachments" xmlns:Master_process="http://floridabluedemo.com/Processes/Scheduling/Master_process" xmlns:tns="http://www.example.org/Demo" xmlns:frmScheduling="http://www.intalio.com/gi/Forms/frmScheduling.gi" xmlns:formless="http://www.intalio.com/formless" xmlns:bpmn="http://www.intalio.com/bpms" xmlns:atomic="http://ode.apache.org/atomicScope" queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0" bpmn:label="Scheduling" name="Scheduling" bpmn:id="_9i9YBu94EeW-F9Cnjo6rGQ" targetNamespace="http://floridabluedemo.com/Processes/Scheduling/Scheduling">
  <bpel:import namespace="http://floridabluedemo.com/Processes/Scheduling" location="Scheduling.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
  <bpel:import namespace="http://floridabluedemo.com/Processes/Scheduling/Scheduling" location="Scheduling-Scheduling.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
  <bpel:import namespace="http://www.intalio.com/formless" location="../formless-ytivitca.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
  <bpel:import namespace="http://www.intalio.com/gi/Forms/frmScheduling.gi" location="../Forms/frmScheduling.gi.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
  <bpel:import namespace="urn:intalio.com:connectors:database:floridabluedemo:select_primaryservice" location="../Connectors/Database/select_primary.sql/select_primary.sql.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
  <bpel:import namespace="urn:intalio.com:connectors:database:floridabluedemo:select_providersservice" location="../Connectors/Database/select_providers.sql/select_providers.sql.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
  <bpel:import namespace="http://www.example.org/Demo" location="../Schemas/Demo.xsd" importType="http://www.w3.org/2001/XMLSchema"></bpel:import>
  <bpel:partnerLinks>
    <bpel:partnerLink name="schedulingAndMaster_processPlkVar" partnerLinkType="diag:SchedulingAndMaster_process" myRole="Scheduling_for_Master_process"></bpel:partnerLink>
    <bpel:partnerLink name="schedulingimplicitPartnerAndSchedulingForSelect_primaryPortPlkVar" partnerLinkType="diag:SchedulingimplicitPartnerAndSchedulingForSelect_primaryPortPlk" initializePartnerRole="yes" partnerRole="SchedulingimplicitPartner_for_Scheduling"></bpel:partnerLink>
    <bpel:partnerLink name="schedulingimplicitPartnerAndSchedulingForSelect_providersPortPlkVar" partnerLinkType="diag:SchedulingimplicitPartnerAndSchedulingForSelect_providersPortPlk" initializePartnerRole="yes" partnerRole="SchedulingimplicitPartner_for_Scheduling"></bpel:partnerLink>
    <bpel:partnerLink name="wFmagic_Cb8n9u_AEeW-F9Cnjo6rGQPlkVar" partnerLinkType="diag:WFmagic_Cb8n9u_AEeW-F9Cnjo6rGQ" initializePartnerRole="no" myRole="SchedulingForFrmSch_for_SchedulingimplicitPartnerForThePortTypeProcess" partnerRole="SchedulingimplicitPartner_for_SchedulingForFrmSchedulingPort"></bpel:partnerLink>
    <bpel:partnerLink name="wFmagic_l0nlsO_AEeW-F9Cnjo6rGQPlkVar" partnerLinkType="diag:WFmagic_l0nlsO_AEeW-F9Cnjo6rGQ" initializePartnerRole="no" myRole="Scheduling_for_SchedulingimplicitPartnerForThePortTypeProcess" partnerRole="SchedulingimplicitPartner_for_SchedulingForFormlessPort"></bpel:partnerLink>
    <bpel:partnerLink name="schedulingAndProviderPlkVar" partnerLinkType="diag:SchedulingAndProvider" myRole="Scheduling_for_provider"></bpel:partnerLink>
    <bpel:partnerLink name="schedulingimplicitPartnerAndSchedulingForFormlessPortPlkVar" partnerLinkType="diag:SchedulingimplicitPartnerAndSchedulingForFormlessPortPlk" initializePartnerRole="yes" partnerRole="SchedulingimplicitPartner_for_Scheduling"></bpel:partnerLink>
  </bpel:partnerLinks>
  <bpel:correlationSets>
    <bpel:correlationSet name="newCorrelationSet" properties="this:case_id"></bpel:correlationSet>
  </bpel:correlationSets>
  <bpel:variables xmlns:xvar="http://ode.apache.org/externalVariables">
    <bpel:variable name="thisRecieve_member_infoRequest2Msg" messageType="this:Recieve_member_infoRequest"></bpel:variable>
    <bpel:variable name="thisRecieve_member_infoResponse2Msg" messageType="this:Recieve_member_infoResponse"></bpel:variable>
    <bpel:variable name="nsSelect_primaryResponse1Msg" messageType="ns:select_primaryOutput"></bpel:variable>
    <bpel:variable name="nsSelect_primaryRequest1Msg" messageType="ns:select_primaryInput"></bpel:variable>
    <bpel:variable name="select_providersSelect_providersResponse1Msg" messageType="select_providers:select_providersOutput"></bpel:variable>
    <bpel:variable name="select_providersSelect_providersRequest1Msg" messageType="select_providers:select_providersInput"></bpel:variable>
    <bpel:variable name="MemberProvider" element="tns:MemberProvider"></bpel:variable>
    <bpel:variable name="frmSchedulingCreateTaskSingleActivityResponse1Msg" messageType="frmScheduling:createTaskSingleActivityResponse"></bpel:variable>
    <bpel:variable name="frmSchedulingCreateTaskSingleActivityRequest1Msg" messageType="frmScheduling:createTaskSingleActivityRequest"></bpel:variable>
    <bpel:variable name="formlessCreateTaskSingleActivityResponse1Msg" messageType="formless:createTaskSingleActivityResponse"></bpel:variable>
    <bpel:variable name="formlessCreateTaskSingleActivityRequest1Msg" messageType="formless:createTaskSingleActivityRequest"></bpel:variable>
    <bpel:variable name="thisRecieve_appointment_claimRequest1Msg" messageType="this:Recieve_appointment_claimRequest"></bpel:variable>
    <bpel:variable name="thisRecieve_appointment_claimResponse2Msg" messageType="this:Recieve_appointment_claimResponse"></bpel:variable>
    <bpel:variable name="formlessNotifyResponse1Msg" messageType="formless:notifyResponse"></bpel:variable>
    <bpel:variable name="formlessNotifyRequest1Msg" messageType="formless:notifyRequest"></bpel:variable>
    <bpel:variable name="MemberActions-keys" element="metrics:MemberActions-keys"></bpel:variable>
    <bpel:variable name="MemberActions" element="metrics:MemberActions" xvar:id="MemberActions-_IALmlvdVEeWT-cmkmXAQzw" xvar:relates-to="MemberActions-keys"></bpel:variable>
  </bpel:variables>
  <bpel:sequence>
    <bpel:receive partnerLink="schedulingAndMaster_processPlkVar" portType="this:ForMaster_process" operation="Recieve_member_info" variable="thisRecieve_member_infoRequest2Msg" createInstance="yes" bpmn:label="Recieve member info" name="Recieve_member_info" bpmn:id="_LW3z0O95EeW-F9Cnjo6rGQ"></bpel:receive>
    <bpel:assign name="init-variables-Scheduling" bpmn:id="_LW3z0O95EeW-F9Cnjo6rGQ">
      <bpel:copy bpmn:label="$thisRecieve_member_infoResponse2Msg">
        <bpel:from>
          <bpel:literal>
<this:Recieve_member_infoResponse>
  <tns:ProcessID></tns:ProcessID>
  <tns:Timestamp></tns:Timestamp>
</this:Recieve_member_infoResponse></bpel:literal>
        </bpel:from>
        <bpel:to>$thisRecieve_member_infoResponse2Msg.body</bpel:to>
      </bpel:copy>
      <bpel:copy bpmn:label="$nsSelect_primaryRequest1Msg">
        <bpel:from>
          <bpel:literal>
<ns:select_primaryParameterSet>
  <ns:connection>
    <ns:user></ns:user>
    <ns:password></ns:password>
  </ns:connection>
  <ns:execute></ns:execute>
</ns:select_primaryParameterSet></bpel:literal>
        </bpel:from>
        <bpel:to>$nsSelect_primaryRequest1Msg.parameters</bpel:to>
      </bpel:copy>
      <bpel:copy bpmn:label="$select_providersSelect_providersRequest1Msg">
        <bpel:from>
          <bpel:literal>
<select_providers:select_providersParameterSet>
  <select_providers:connection>
    <select_providers:user></select_providers:user>
    <select_providers:password></select_providers:password>
  </select_providers:connection>
  <select_providers:execute></select_providers:execute>
</select_providers:select_providersParameterSet></bpel:literal>
        </bpel:from>
        <bpel:to>$select_providersSelect_providersRequest1Msg.parameters</bpel:to>
      </bpel:copy>
      <bpel:copy bpmn:label="$MemberProvider">
        <bpel:from>
          <bpel:literal>
<tns:MemberProvider>
  <tns:CaseId></tns:CaseId>
  <tns:Member>
    <tns:id></tns:id>
    <tns:name></tns:name>
    <tns:sex></tns:sex>
    <tns:age></tns:age>
    <tns:diabetes></tns:diabetes>
    <tns:heartAttack></tns:heartAttack>
    <tns:highBloodPressure></tns:highBloodPressure>
    <tns:pid></tns:pid>
  </tns:Member>
  <tns:PrimaryCare></tns:PrimaryCare>
  <tns:Providers>
    <tns:id></tns:id>
    <tns:name></tns:name>
    <tns:phone></tns:phone>
  </tns:Providers>
  <tns:ScheduledDate></tns:ScheduledDate>
  <tns:ScheduledTime></tns:ScheduledTime>
</tns:MemberProvider></bpel:literal>
        </bpel:from>
        <bpel:to>$MemberProvider</bpel:to>
      </bpel:copy>
      <bpel:copy bpmn:label="$frmSchedulingCreateTaskSingleActivityRequest1Msg">
        <bpel:from>
          <bpel:literal>
<frmScheduling:createTaskSingleActivityRequest>
  <frmScheduling:taskMetaData>
    <frmScheduling:taskId>_Cb8n9u_AEeW-F9Cnjo6rGQ</frmScheduling:taskId>
    <frmScheduling:allowadhoc>true</frmScheduling:allowadhoc>
    <frmScheduling:taskState></frmScheduling:taskState>
    <frmScheduling:taskType></frmScheduling:taskType>
    <frmScheduling:description/>
    <frmScheduling:processId></frmScheduling:processId>
    <frmScheduling:instanceId></frmScheduling:instanceId>
    <frmScheduling:business>
      <frmScheduling:processName></frmScheduling:processName>
      <frmScheduling:instanceId></frmScheduling:instanceId>
      <frmScheduling:stepName></frmScheduling:stepName>
      <frmScheduling:customData></frmScheduling:customData>
    </frmScheduling:business>
    <frmScheduling:creationDate></frmScheduling:creationDate>
    <frmScheduling:userOwner>examples\ewilliams</frmScheduling:userOwner>
    <frmScheduling:roleOwner/>
    <frmScheduling:claimAction>
      <frmScheduling:user></frmScheduling:user>
      <frmScheduling:role></frmScheduling:role>
    </frmScheduling:claimAction>
    <frmScheduling:revokeAction>
      <frmScheduling:user></frmScheduling:user>
      <frmScheduling:role></frmScheduling:role>
    </frmScheduling:revokeAction>
    <frmScheduling:saveAction>
      <frmScheduling:user></frmScheduling:user>
      <frmScheduling:role></frmScheduling:role>
    </frmScheduling:saveAction>
    <frmScheduling:completeAction>
      <frmScheduling:user></frmScheduling:user>
      <frmScheduling:role></frmScheduling:role>
    </frmScheduling:completeAction>
    <frmScheduling:formUrl>/everteam/gi/apppath/FloridaBlueDemob207e180-a05e-47ff-bbee-e995d4ca03a4/Forms/frmScheduling.gi/IntalioInternal/ServerLaunch.html</frmScheduling:formUrl>
    <frmScheduling:failureCode></frmScheduling:failureCode>
    <frmScheduling:failureReason></frmScheduling:failureReason>
    <frmScheduling:priority></frmScheduling:priority>
    <frmScheduling:scheduledActions>
      <frmScheduling:expiration>
        <frmScheduling:until></frmScheduling:until>
        <frmScheduling:for></frmScheduling:for>
      </frmScheduling:expiration>
      <frmScheduling:deferActivation>
        <frmScheduling:until></frmScheduling:until>
        <frmScheduling:for></frmScheduling:for>
      </frmScheduling:deferActivation>
    </frmScheduling:scheduledActions>
    <frmScheduling:attachments>
      <attachment>
        <attachmentMetadata>
          <mimeType></mimeType>
          <fileName></fileName>
          <title></title>
          <description/>
          <creationDate></creationDate>
        </attachmentMetadata>
        <payloadUrl></payloadUrl>
      </attachment>
    </frmScheduling:attachments>
    <frmScheduling:globalAttachments>
      <attachment>
        <attachmentMetadata>
          <mimeType></mimeType>
          <fileName></fileName>
          <title></title>
          <description/>
          <creationDate></creationDate>
        </attachmentMetadata>
        <payloadUrl></payloadUrl>
      </attachment>
    </frmScheduling:globalAttachments>
    <frmScheduling:userProcessCompleteSOAPAction/>
    <frmScheduling:isChainedBefore></frmScheduling:isChainedBefore>
    <frmScheduling:previousTaskId></frmScheduling:previousTaskId>
    <frmScheduling:userProcessEndpoint/>
    <frmScheduling:userProcessNamespaceURI>http://www.intalio.com/gi/Forms/frmScheduling.gi</frmScheduling:userProcessNamespaceURI>
    <frmScheduling:customMetaData></frmScheduling:customMetaData>
  </frmScheduling:taskMetaData>
  <frmScheduling:participantToken></frmScheduling:participantToken>
  <frmScheduling:taskInput>
    <tns:MemberProvider>
      <tns:CaseId></tns:CaseId>
      <tns:Member>
        <tns:id></tns:id>
        <tns:name></tns:name>
        <tns:sex></tns:sex>
        <tns:age></tns:age>
        <tns:diabetes></tns:diabetes>
        <tns:heartAttack></tns:heartAttack>
        <tns:highBloodPressure></tns:highBloodPressure>
        <tns:pid></tns:pid>
      </tns:Member>
      <tns:PrimaryCare></tns:PrimaryCare>
      <tns:Providers>
        <tns:id></tns:id>
        <tns:name></tns:name>
        <tns:phone></tns:phone>
      </tns:Providers>
      <tns:ScheduledDate></tns:ScheduledDate>
      <tns:ScheduledTime></tns:ScheduledTime>
    </tns:MemberProvider>
  </frmScheduling:taskInput>
</frmScheduling:createTaskSingleActivityRequest></bpel:literal>
        </bpel:from>
        <bpel:to>$frmSchedulingCreateTaskSingleActivityRequest1Msg.root</bpel:to>
      </bpel:copy>
      <bpel:copy bpmn:label="$formlessCreateTaskSingleActivityRequest1Msg">
        <bpel:from>
          <bpel:literal>
<formless:createTaskSingleActivityRequest>
  <formless:taskMetaData>
    <formless:taskId>_l0nlsO_AEeW-F9Cnjo6rGQ</formless:taskId>
    <formless:taskState></formless:taskState>
    <formless:taskType></formless:taskType>
    <formless:description/>
    <formless:processId></formless:processId>
    <formless:instanceId></formless:instanceId>
    <formless:business>
      <formless:processName></formless:processName>
      <formless:instanceId></formless:instanceId>
      <formless:stepName></formless:stepName>
      <formless:customData></formless:customData>
    </formless:business>
    <formless:creationDate></formless:creationDate>
    <formless:userOwner/>
    <formless:roleOwner/>
    <formless:claimAction>
      <formless:user></formless:user>
      <formless:role></formless:role>
    </formless:claimAction>
    <formless:revokeAction>
      <formless:user></formless:user>
      <formless:role></formless:role>
    </formless:revokeAction>
    <formless:saveAction>
      <formless:user></formless:user>
      <formless:role></formless:role>
    </formless:saveAction>
    <formless:completeAction>
      <formless:user></formless:user>
      <formless:role></formless:role>
    </formless:completeAction>
    <formless:formUrl>formless:3580328c-99dc-4b45-9714-55dfb31a60db</formless:formUrl>
    <formless:failureCode></formless:failureCode>
    <formless:failureReason></formless:failureReason>
    <formless:priority></formless:priority>
    <formless:scheduledActions>
      <formless:expiration>
        <formless:until></formless:until>
        <formless:for></formless:for>
      </formless:expiration>
      <formless:deferActivation>
        <formless:until></formless:until>
        <formless:for></formless:for>
      </formless:deferActivation>
    </formless:scheduledActions>
    <formless:attachments>
      <attachment>
        <attachmentMetadata>
          <mimeType></mimeType>
          <fileName></fileName>
          <title></title>
          <description/>
          <creationDate></creationDate>
        </attachmentMetadata>
        <payloadUrl></payloadUrl>
      </attachment>
    </formless:attachments>
    <formless:globalAttachments>
      <attachment>
        <attachmentMetadata>
          <mimeType></mimeType>
          <fileName></fileName>
          <title></title>
          <description/>
          <creationDate></creationDate>
        </attachmentMetadata>
        <payloadUrl></payloadUrl>
      </attachment>
    </formless:globalAttachments>
    <formless:userProcessCompleteSOAPAction/>
    <formless:isChainedBefore></formless:isChainedBefore>
    <formless:previousTaskId></formless:previousTaskId>
    <formless:userProcessEndpoint/>
    <formless:userProcessNamespaceURI>http://www.intalio.com/formless</formless:userProcessNamespaceURI>
    <formless:customMetaData></formless:customMetaData>
  </formless:taskMetaData>
  <formless:participantToken></formless:participantToken>
  <formless:taskInput>
    <formless:FormModel>
      <notesTextAreaInput>
        <notesTextArea></notesTextArea>
      </notesTextAreaInput>
    </formless:FormModel>
  </formless:taskInput>
</formless:createTaskSingleActivityRequest></bpel:literal>
        </bpel:from>
        <bpel:to>$formlessCreateTaskSingleActivityRequest1Msg.root</bpel:to>
      </bpel:copy>
      <bpel:copy bpmn:label="$thisRecieve_appointment_claimResponse2Msg">
        <bpel:from>
          <bpel:literal>
<this:Recieve_appointment_claimResponse>
  <tns:ProcessID></tns:ProcessID>
  <tns:Timestamp></tns:Timestamp>
</this:Recieve_appointment_claimResponse></bpel:literal>
        </bpel:from>
        <bpel:to>$thisRecieve_appointment_claimResponse2Msg.body</bpel:to>
      </bpel:copy>
      <bpel:copy bpmn:label="$formlessNotifyRequest1Msg">
        <bpel:from>
          <bpel:literal>
<formless:notifyRequest>
  <formless:metadata>
    <formless:description/>
    <formless:globalAttachments>
      <attachment>
        <attachmentMetadata>
          <mimeType></mimeType>
          <fileName></fileName>
          <title></title>
          <description/>
          <creationDate></creationDate>
        </attachmentMetadata>
        <payloadUrl></payloadUrl>
      </attachment>
    </formless:globalAttachments>
    <formless:creationDate></formless:creationDate>
    <formless:processId></formless:processId>
    <formless:instanceId></formless:instanceId>
    <formless:userOwner/>
    <formless:roleOwner/>
    <formless:formUrl>formless:5a9d37cb-559b-4ba5-b42d-d31d1529625c</formless:formUrl>
    <formless:dismissAction>
      <formless:user></formless:user>
      <formless:role></formless:role>
    </formless:dismissAction>
    <formless:priority></formless:priority>
  </formless:metadata>
  <formless:input>
    <formless:FormModel>
      <notesTextAreaInput>
        <notesTextArea></notesTextArea>
      </notesTextAreaInput>
    </formless:FormModel>
  </formless:input>
</formless:notifyRequest></bpel:literal>
        </bpel:from>
        <bpel:to>$formlessNotifyRequest1Msg.root</bpel:to>
      </bpel:copy>
      <bpel:copy>
        <bpel:from>
          <bpel:literal><metrics:MemberActions><metrics:id></metrics:id></metrics:MemberActions></bpel:literal>
        </bpel:from>
        <bpel:to>$MemberActions-keys</bpel:to>
      </bpel:copy>
    </bpel:assign>
    <bpel:assign bpmn:label="Recieve member info" name="Recieve_member_info-1" bpmn:id="_LW3z0O95EeW-F9Cnjo6rGQ">
      <bpel:copy>
        <bpel:from>$ode:pid</bpel:from>
        <bpel:to>$thisRecieve_member_infoResponse2Msg.body/tns:ProcessID</bpel:to>
      </bpel:copy>
      <bpel:copy>
        <bpel:from>current-dateTime()</bpel:from>
        <bpel:to>$thisRecieve_member_infoResponse2Msg.body/tns:Timestamp</bpel:to>
      </bpel:copy>
    </bpel:assign>
    <bpel:reply partnerLink="schedulingAndMaster_processPlkVar" portType="this:ForMaster_process" operation="Recieve_member_info" variable="thisRecieve_member_infoResponse2Msg" bpmn:label="Recieve member info" name="Recieve_member_info-2" bpmn:id="_LW3z0O95EeW-F9Cnjo6rGQ">
      <bpel:correlations>
        <bpel:correlation set="newCorrelationSet" initiate="join"></bpel:correlation>
      </bpel:correlations>
    </bpel:reply>
    <bpel:if>
      <bpel:condition>true() = $thisRecieve_member_infoRequest2Msg.body/tns:PrimaryCare</bpel:condition>
      <bpel:sequence>
        <bpel:invoke partnerLink="schedulingimplicitPartnerAndSchedulingForSelect_primaryPortPlkVar" portType="ns:select_primaryPort" operation="select_primary" inputVariable="nsSelect_primaryRequest1Msg" outputVariable="nsSelect_primaryResponse1Msg" bpmn:label="Select primary care provider" name="Select_primary_care_provider" bpmn:id="_Rp1U8O-gEeW-F9Cnjo6rGQ"></bpel:invoke>
        <bpel:assign bpmn:label="Map data" name="Map_data" bpmn:id="_2BmYMO-gEeW-F9Cnjo6rGQ">
          <bpel:copy>
            <bpel:from>bpel:doXslTransform("../XSLT/transformMemberProvider.xsl", $nsSelect_primaryResponse1Msg.parameters, "request", $thisRecieve_member_infoRequest2Msg.body)</bpel:from>
            <bpel:to>$MemberProvider</bpel:to>
          </bpel:copy>
        </bpel:assign>
      </bpel:sequence>
      <bpel:else>
        <bpel:sequence>
          <bpel:invoke partnerLink="schedulingimplicitPartnerAndSchedulingForSelect_providersPortPlkVar" portType="select_providers:select_providersPort" operation="select_providers" inputVariable="select_providersSelect_providersRequest1Msg" outputVariable="select_providersSelect_providersResponse1Msg" bpmn:label="Select plan providers" name="Select_plan_providers" bpmn:id="_UKq6AO-gEeW-F9Cnjo6rGQ"></bpel:invoke>
          <bpel:assign bpmn:label="Map  data" name="Map__data" bpmn:id="_3AozUO-gEeW-F9Cnjo6rGQ">
            <bpel:copy>
              <bpel:from>bpel:doXslTransform("../XSLT/transformMemberProviderList.xsl", $select_providersSelect_providersResponse1Msg.parameters, "request", $thisRecieve_member_infoRequest2Msg.body)</bpel:from>
              <bpel:to>$MemberProvider</bpel:to>
            </bpel:copy>
          </bpel:assign>
        </bpel:sequence>
      </bpel:else>
    </bpel:if>
    <bpel:empty bpmn:label="Exclusive_Data-Based_Gateway" name="Exclusive_Data-Based_Gateway" bpmn:id="_ej_hcO-kEeW-F9Cnjo6rGQ">
      <bpel:links>
        <bpel:targets></bpel:targets>
      </bpel:links>
    </bpel:empty>
    <bpel:assign bpmn:label="Add case Id" name="Add_case_Id" bpmn:id="_6ZkF4O-_EeW-F9Cnjo6rGQ">
      <bpel:copy>
        <bpel:from>$ode:pid</bpel:from>
        <bpel:to>$MemberProvider/tns:CaseId</bpel:to>
      </bpel:copy>
    </bpel:assign>
    <bpel:assign bpmn:label="Schedule member appointment" name="Schedule_member_appointment" bpmn:id="_Cb8n9u_AEeW-F9Cnjo6rGQ">
      <bpel:copy>
        <bpel:from>concat("Schedule ", if (true() = $thisRecieve_member_infoRequest2Msg.body/tns:PrimaryCare) then ("primary ") else ("referral "), "appointment for member #", $thisRecieve_member_infoRequest2Msg.body/tns:Member/tns:id)</bpel:from>
        <bpel:to>$frmSchedulingCreateTaskSingleActivityRequest1Msg.root/frmScheduling:taskMetaData/frmScheduling:description</bpel:to>
      </bpel:copy>
      <bpel:copy>
        <bpel:from>$MemberProvider</bpel:from>
        <bpel:to>$frmSchedulingCreateTaskSingleActivityRequest1Msg.root/frmScheduling:taskInput/tns:MemberProvider</bpel:to>
      </bpel:copy>
    </bpel:assign>
    <bpel:assign>
      <bpel:copy>
        <bpel:from>"_Cb8n9u_AEeW-F9Cnjo6rGQ"</bpel:from>
        <bpel:to>$frmSchedulingCreateTaskSingleActivityRequest1Msg.root/frmScheduling:taskMetaData/frmScheduling:taskId</bpel:to>
      </bpel:copy>
      <bpel:copy>
        <bpel:from>$ode:pid</bpel:from>
        <bpel:to>$frmSchedulingCreateTaskSingleActivityRequest1Msg.root/frmScheduling:taskMetaData/frmScheduling:instanceId</bpel:to>
      </bpel:copy>
    </bpel:assign>
    <bpel:invoke partnerLink="wFmagic_Cb8n9u_AEeW-F9Cnjo6rGQPlkVar" portType="frmScheduling:Workflow" operation="createTaskSingleActivity" inputVariable="frmSchedulingCreateTaskSingleActivityRequest1Msg" outputVariable="frmSchedulingCreateTaskSingleActivityResponse1Msg" bpmn:label="Schedule member appointment" name="Schedule_member_appointment-1" bpmn:id="_Cb8n9u_AEeW-F9Cnjo6rGQ"></bpel:invoke>
    <bpel:receive partnerLink="wFmagic_Cb8n9u_AEeW-F9Cnjo6rGQPlkVar" portType="frmScheduling:Process" operation="notifyTaskCompletionSingleActivity" variable="frmSchedulingCreateTaskSingleActivityResponse1Msg" bpmn:label="Schedule member appointment" name="Schedule_member_appointment-2" bpmn:id="_Cb8n9u_AEeW-F9Cnjo6rGQ"></bpel:receive>
    <bpel:pick bpmn:label="Exclusive_Event-Based_Gateway" name="Exclusive_Event-Based_Gateway" bpmn:id="_gBcGIO_AEeW-F9Cnjo6rGQ">
      <bpel:onAlarm bpmn:label="Wait 1 week after appointment" name="Wait_1_week_after_appointment" bpmn:id="_hP0k0O_AEeW-F9Cnjo6rGQ">
        <bpel:for>"PT1M30S"</bpel:for>
        <bpel:sequence>
          <bpel:assign bpmn:label="Check with provider" name="Check_with_provider" bpmn:id="_l0nlsO_AEeW-F9Cnjo6rGQ">
            <bpel:copy>
              <bpel:from>concat("Check with provider for appointment of member #", $thisRecieve_member_infoRequest2Msg.body/tns:Member/tns:id)</bpel:from>
              <bpel:to>$formlessCreateTaskSingleActivityRequest1Msg.root/formless:taskMetaData/formless:description</bpel:to>
            </bpel:copy>
            <bpel:copy>
              <bpel:from>$frmSchedulingCreateTaskSingleActivityResponse1Msg.root/frmScheduling:user</bpel:from>
              <bpel:to>$formlessCreateTaskSingleActivityRequest1Msg.root/formless:taskMetaData/formless:userOwner[1]</bpel:to>
            </bpel:copy>
          </bpel:assign>
          <bpel:assign>
            <bpel:copy>
              <bpel:from>"_l0nlsO_AEeW-F9Cnjo6rGQ"</bpel:from>
              <bpel:to>$formlessCreateTaskSingleActivityRequest1Msg.root/formless:taskMetaData/formless:taskId</bpel:to>
            </bpel:copy>
            <bpel:copy>
              <bpel:from>$ode:pid</bpel:from>
              <bpel:to>$formlessCreateTaskSingleActivityRequest1Msg.root/formless:taskMetaData/formless:instanceId</bpel:to>
            </bpel:copy>
          </bpel:assign>
          <bpel:invoke partnerLink="wFmagic_l0nlsO_AEeW-F9Cnjo6rGQPlkVar" portType="formless:Workflow" operation="createTaskSingleActivity" inputVariable="formlessCreateTaskSingleActivityRequest1Msg" outputVariable="formlessCreateTaskSingleActivityResponse1Msg" bpmn:label="Check with provider" name="Check_with_provider-1" bpmn:id="_l0nlsO_AEeW-F9Cnjo6rGQ"></bpel:invoke>
          <bpel:receive partnerLink="wFmagic_l0nlsO_AEeW-F9Cnjo6rGQPlkVar" portType="formless:Process" operation="notifyTaskCompletionSingleActivity" variable="formlessCreateTaskSingleActivityResponse1Msg" bpmn:label="Check with provider" name="Check_with_provider-2" bpmn:id="_l0nlsO_AEeW-F9Cnjo6rGQ"></bpel:receive>
        </bpel:sequence>
      </bpel:onAlarm>
      <bpel:onMessage partnerLink="schedulingAndProviderPlkVar" portType="this:Forprovider" operation="Recieve_appointment_claim" variable="thisRecieve_appointment_claimRequest1Msg" bpmn:label="Recieve appointment claim" name="Recieve_appointment_claim" bpmn:id="_4lqp4O_AEeW-F9Cnjo6rGQ">
        <bpel:correlations>
          <bpel:correlation set="newCorrelationSet" initiate="join"></bpel:correlation>
        </bpel:correlations>
        <bpel:sequence>
          <bpel:sequence>
            <bpel:assign bpmn:label="Recieve appointment claim" name="Recieve_appointment_claim-1" bpmn:id="_4lqp4O_AEeW-F9Cnjo6rGQ">
              <bpel:copy>
                <bpel:from>$ode:pid</bpel:from>
                <bpel:to>$thisRecieve_appointment_claimResponse2Msg.body/tns:ProcessID</bpel:to>
              </bpel:copy>
              <bpel:copy>
                <bpel:from>current-dateTime()</bpel:from>
                <bpel:to>$thisRecieve_appointment_claimResponse2Msg.body/tns:Timestamp</bpel:to>
              </bpel:copy>
            </bpel:assign>
            <bpel:reply partnerLink="schedulingAndProviderPlkVar" portType="this:Forprovider" operation="Recieve_appointment_claim" variable="thisRecieve_appointment_claimResponse2Msg" bpmn:label="Recieve appointment claim" name="Recieve_appointment_claim-2" bpmn:id="_4lqp4O_AEeW-F9Cnjo6rGQ"></bpel:reply>
            <bpel:assign bpmn:label="Notify rep" name="Notify_rep" bpmn:id="_B3ezgO_BEeW-F9Cnjo6rGQ">
              <bpel:copy>
                <bpel:from>concat("Claim for appointment with member #", $thisRecieve_member_infoRequest2Msg.body/tns:Member/tns:id, " was received ")</bpel:from>
                <bpel:to>$formlessNotifyRequest1Msg.root/formless:metadata/formless:description</bpel:to>
              </bpel:copy>
              <bpel:copy>
                <bpel:from>$frmSchedulingCreateTaskSingleActivityResponse1Msg.root/frmScheduling:user</bpel:from>
                <bpel:to>$formlessNotifyRequest1Msg.root/formless:metadata/formless:userOwner[1]</bpel:to>
              </bpel:copy>
            </bpel:assign>
            <bpel:assign>
    <bpel:copy>
        <bpel:from>$ode:pid</bpel:from>
        <bpel:to>$formlessNotifyRequest1Msg.root/formless:metadata/formless:instanceId</bpel:to>
    </bpel:copy>
  </bpel:assign>
  <bpel:invoke partnerLink="schedulingimplicitPartnerAndSchedulingForFormlessPortPlkVar" portType="formless:Workflow" operation="notify" inputVariable="formlessNotifyRequest1Msg" outputVariable="formlessNotifyResponse1Msg" bpmn:label="Notify rep" name="Notify_rep-1" bpmn:id="_B3ezgO_BEeW-F9Cnjo6rGQ"></bpel:invoke>
          </bpel:sequence>
        </bpel:sequence>
      </bpel:onMessage>
    </bpel:pick>
    <bpel:empty bpmn:label="Exclusive_Data-Based_Gateway" name="Exclusive_Data-Based_Gateway-1" bpmn:id="_FtsmkPdVEeWT-cmkmXAQzw">
      <bpel:links>
        <bpel:targets></bpel:targets>
      </bpel:links>
    </bpel:empty>
    <bpel:if>
      <bpel:condition>true() = $thisRecieve_member_infoRequest2Msg.body/tns:PrimaryCare</bpel:condition>
      <bpel:sequence>
        <bpel:assign bpmn:label="Log end primary scheduling" name="Log_end_primary_scheduling" bpmn:id="_UaaSoPdVEeWT-cmkmXAQzw">
          <bpel:copy>
            <bpel:from>$thisRecieve_member_infoRequest2Msg.body/tns:Member/tns:pid</bpel:from>
            <bpel:to>$MemberActions-keys/metrics:id</bpel:to>
          </bpel:copy>
          <bpel:copy>
            <bpel:from>current-dateTime()</bpel:from>
            <bpel:to>$MemberActions/metrics:primaryEndDate</bpel:to>
          </bpel:copy>
        </bpel:assign>
      </bpel:sequence>
      <bpel:else>
        <bpel:sequence>
          <bpel:assign bpmn:label="Log end referral scheduling" name="Log_end_referral_scheduling" bpmn:id="_W1E-QPdVEeWT-cmkmXAQzw">
            <bpel:copy>
              <bpel:from>$thisRecieve_member_infoRequest2Msg.body/tns:Member/tns:pid</bpel:from>
              <bpel:to>$MemberActions-keys/metrics:id</bpel:to>
            </bpel:copy>
            <bpel:copy>
              <bpel:from>current-dateTime()</bpel:from>
              <bpel:to>$MemberActions/metrics:referralEndDate</bpel:to>
            </bpel:copy>
          </bpel:assign>
        </bpel:sequence>
      </bpel:else>
    </bpel:if>
  </bpel:sequence>
</bpel:process>