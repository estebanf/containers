"use strict";var WorkflowClient=function(){window.GetQueryString=function(a){return function(a){if(""==a)return{};for(var b={},c=0;c<a.length;++c){var d=a[c].split("=");2==d.length&&(b[d[0]]=decodeURIComponent(d[1].replace(/\+/g," ")))}return b}(a.split("&"))};var a=window.location.search;0==a.indexOf("?")&&(a=a.slice(1));var b=window.GetQueryString(a),c=window.location.protocol+"//"+window.location.host+"/intalio/ode/processes/",d=function(a,b){var c=$.Deferred(),d={type:"POST",url:a,data:JSON.stringify(b),headers:{"Content-Type":"application/json/badgerfish"},success:function(a){c.resolve(a)},error:function(a,b,d){c.reject(d)}};return $.ajax(d),c.promise()},e=function(a){return d(c+"TaskManagementServices.TaskManagementServicesSOAP/",a)},f=function(a){return d(c+"completeTask",a)},g=function(a,b){var c=$.Deferred();a(b).then(function(a){window.location.assign("/intalio/workflow/script/empty.jsp"),c.resolve(a)},function(a){console.log(a),c.reject(a)})},h={};for(var i in b)h[i]=b[i];return h.getTask=function(){var a={"tms:getTaskRequest":{"@xmlns":{tms:"http://www.intalio.com/BPMS/Workflow/TaskManagementServices-20051109/"},"tms:taskId":{$:h.id},"tms:participantToken":{$:h.token}}};return e(a)},h.completeTask=function(a){var b={completeTaskRequest:{"@xmlns":{$:"http://www.intalio.com/bpms/workflow/ib4p_20051115"},taskMetaData:{taskId:{$:h.id}},participantToken:{$:h.token},user:{$:h.user},taskOutput:a}};g(f,b)},h.initProcess=function(a,b){var c=($.Deferred(),{initProcessRequest:{"@xmlns":{$:"http://www.intalio.com/BPMS/Workflow/TaskManagementServices-20051109/"},taskId:{$:h.id},input:b,participantToken:{$:h.token},formUrl:{$:a}}});g(e,c)},h};